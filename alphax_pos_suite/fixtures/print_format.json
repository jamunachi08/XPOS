[
  {
    "doctype": "Print Format",
    "name": "AlphaX POS Shift Close",
    "doc_type": "AlphaX POS Shift",
    "print_format_type": "Jinja",
    "standard": "Yes",
    "module": "AlphaX POS Suite",
    "html": "<div style=\"font-family:Inter,Arial; padding:12px\">\n<h2>Shift Close Report</h2>\n<p><b>Terminal:</b> {{ doc.pos_terminal }} &nbsp; <b>User:</b> {{ doc.user }}<br>\n<b>Opened:</b> {{ doc.opened_on }} &nbsp; <b>Closed:</b> {{ doc.closed_on or doc.modified }}</p>\n<hr>\n<table style=\"width:100%; border-collapse:collapse\" border=\"1\" cellpadding=\"6\">\n<tr><th align=\"left\">Field</th><th align=\"right\">Value</th></tr>\n<tr><td>Opening Cash</td><td align=\"right\">{{ frappe.format_value(doc.opening_cash, {'fieldtype':'Currency'}) }}</td></tr>\n<tr><td>Expected Cash</td><td align=\"right\">{{ frappe.format_value(doc.expected_cash, {'fieldtype':'Currency'}) }}</td></tr>\n<tr><td>Closing Cash</td><td align=\"right\">{{ frappe.format_value(doc.closing_cash, {'fieldtype':'Currency'}) }}</td></tr>\n<tr><td>Variance</td><td align=\"right\">{{ frappe.format_value(doc.variance, {'fieldtype':'Currency'}) }}</td></tr>\n</table>\n<br>\n<h3>Payments (System)</h3>\n{% set orders = frappe.get_all('AlphaX POS Order', filters={'pos_terminal': doc.pos_terminal, 'docstatus': 1, 'posting_date': doc.opened_on.date()}, fields=['name']) %}\n{% set mop_map = {} %}\n{% for o in orders %}\n  {% set od = frappe.get_doc('AlphaX POS Order', o.name) %}\n  {% for p in od.payments %}\n    {% set mop_map = mop_map.update({p.mode_of_payment: (mop_map.get(p.mode_of_payment,0) + (p.amount or 0))}) or mop_map %}\n  {% endfor %}\n{% endfor %}\n<table style=\"width:100%; border-collapse:collapse\" border=\"1\" cellpadding=\"6\">\n<tr><th align=\"left\">Mode of Payment</th><th align=\"right\">Amount</th></tr>\n{% for mop, amt in mop_map.items() %}\n<tr><td>{{ mop }}</td><td align=\"right\">{{ frappe.format_value(amt, {'fieldtype':'Currency'}) }}</td></tr>\n{% endfor %}\n</table>\n</div>"
  },
  {
    "doctype": "Print Format",
    "name": "AlphaX POS Day Close",
    "doc_type": "AlphaX POS Day Close",
    "print_format_type": "Jinja",
    "standard": "Yes",
    "module": "AlphaX POS Suite",
    "html": "<div style=\"font-family:Inter,Arial; padding:12px\">\n<h2>Day Close Report</h2>\n<p><b>Company:</b> {{ doc.company }}<br>\n<b>Terminal:</b> {{ doc.pos_terminal }} &nbsp; <b>Date:</b> {{ doc.posting_date }}</p>\n<hr>\n<h3>Sales Summary</h3>\n<table style=\"width:100%; border-collapse:collapse\" border=\"1\" cellpadding=\"6\">\n<tr><td>Sales (Vouchers)</td><td align=\"right\">{{ doc.sales_count }}</td></tr>\n<tr><td>Sales Value</td><td align=\"right\">{{ frappe.format_value(doc.sales_value, {'fieldtype':'Currency'}) }}</td></tr>\n<tr><td>Return Value</td><td align=\"right\">{{ frappe.format_value(doc.return_value, {'fieldtype':'Currency'}) }}</td></tr>\n<tr><td><b>Net Sales</b></td><td align=\"right\"><b>{{ frappe.format_value(doc.net_sales, {'fieldtype':'Currency'}) }}</b></td></tr>\n<tr><td>VAT</td><td align=\"right\">{{ frappe.format_value(doc.vat_amount, {'fieldtype':'Currency'}) }}</td></tr>\n<tr><td>Discount</td><td align=\"right\">{{ frappe.format_value(doc.discount_amount, {'fieldtype':'Currency'}) }}</td></tr>\n</table>\n<br>\n<h3>Payment Summary</h3>\n<table style=\"width:100%; border-collapse:collapse\" border=\"1\" cellpadding=\"6\">\n<tr><th align=\"left\">Mode of Payment</th><th align=\"right\">System</th><th align=\"right\">Counter</th><th align=\"right\">Diff</th></tr>\n{% for p in doc.payments %}\n<tr>\n<td>{{ p.mode_of_payment }}</td>\n<td align=\"right\">{{ frappe.format_value(p.system_amount, {'fieldtype':'Currency'}) }}</td>\n<td align=\"right\">{{ frappe.format_value(p.counter_amount, {'fieldtype':'Currency'}) }}</td>\n<td align=\"right\">{{ frappe.format_value(p.difference, {'fieldtype':'Currency'}) }}</td>\n</tr>\n{% endfor %}\n</table>\n<br>\n<h3>Cash Count</h3>\n<table style=\"width:100%; border-collapse:collapse\" border=\"1\" cellpadding=\"6\">\n<tr><th align=\"right\">Denomination</th><th align=\"right\">Qty</th><th align=\"right\">Amount</th></tr>\n{% for d in doc.denominations %}\n<tr><td align=\"right\">{{ d.denomination }}</td><td align=\"right\">{{ d.qty }}</td><td align=\"right\">{{ frappe.format_value(d.amount, {'fieldtype':'Currency'}) }}</td></tr>\n{% endfor %}\n<tr><td colspan=\"2\"><b>Total Cash</b></td><td align=\"right\"><b>{{ frappe.format_value(doc.cash_total, {'fieldtype':'Currency'}) }}</b></td></tr>\n</table>\n<p><b>Variance:</b> {{ frappe.format_value(doc.variance, {'fieldtype':'Currency'}) }}</p>\n</div>"
  }
]